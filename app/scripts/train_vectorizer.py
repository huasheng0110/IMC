# train_vectorizer.py
import joblib
from sklearn.feature_extraction.text import TfidfVectorizer

# 示例数据（你的意图数据）
corpus = [
    # 挂号相关
    "我想挂号",
    "怎么预约挂号",
    "我要挂号",
    "帮我挂个号",
    "挂号流程是什么",
    "如何挂号",
    "挂号需要什么证件",
    "挂号窗口在哪里",
    "挂号收费吗",
    "挂号要排队吗",
    "挂号时间是几点",
    "挂号怎么操作",
    "我要预约医生",
    "预约挂号",
    "怎么预约专家号",

    # 问诊相关
    "我头疼",
    "我发烧了怎么办",
    "咳嗽吃什么药",
    "肚子疼怎么缓解",
    "感冒了需要看医生吗",
    "高血压怎么治疗",
    "糖尿病要注意什么",
    "胃痛怎么办",
    "失眠怎么调理",
    "小孩发烧怎么办",
    "咽喉痛吃什么药",
    "皮肤过敏怎么办",
    "牙疼怎么处理",

    # 购药相关
    "我要买布洛芬",
    "哪里可以买药",
    "买药需要处方吗",
    "买退烧药",
    "买感冒药",
    "买止咳药",
    "买降压药",
    "买胰岛素",
    "买阿莫西林",
    "买维生素C",

    # 其他
    "医院几点开门",
    "医院地址在哪里",
    "怎么去医院",
    "医院有急诊吗",
    "医院能做核酸检测吗"
]

# 创建 TF-IDF 模型
vectorizer = TfidfVectorizer()
vectorizer.fit(corpus)

# 保存模型
joblib.dump(vectorizer, 'app/models/vectorizer.pkl')

print("向量器保存成功！")
